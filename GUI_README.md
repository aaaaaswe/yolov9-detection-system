# YOLOv9 图形化界面使用指南

## 概述

YOLOv9 检测系统现在提供三种使用方式：

1. **图形化界面 (GUI)** - 适合 Windows/Linux 桌面用户
2. **命令行界面 (CLI)** - 适合高级用户和自动化脚本
3. **Web 应用** - 适合在线使用和远程访问

## 图形化界面 (GUI)

### 启动方式

#### Windows

双击运行：
```
start_gui.bat
```

或在命令行中：
```cmd
start_gui.bat
```

#### Linux/Mac

```bash
chmod +x start_gui.sh
./start_gui.sh
```

#### 直接运行 Python 脚本

```bash
python yolov9_gui.py
```

### GUI 功能介绍

#### 1. 数据集准备页面

- **操作模式**：选择 create（创建）、split（划分）或 visualize（可视化）
- **路径设置**：
  - 数据集路径：指定数据集存放位置
  - 图像目录：选择原始图像文件夹（仅 split 模式）
  - 标签目录：选择原始标签文件夹（仅 split 模式）
- **类别设置**：输入类别名称，用空格分隔（如：person car dog）
- **数据划分**：设置训练集、验证集、测试集的比例

#### 2. 训练模型页面

- **模型设置**：
  - 模型大小：选择 n/s/m/l/x 不同规模的模型
  - 预训练权重：选择预训练模型路径
- **数据集设置**：选择数据集配置文件（.yaml）
- **训练参数**：
  - 训练轮数：默认 100 轮
  - 批次大小：默认 16
  - 图像尺寸：默认 640
  - 优化器：auto/SGD/Adam/AdamW
  - 学习率：默认 0.01
  - 早停轮数：默认 50
  - 设备：CPU 或 GPU（0, 1, 2...）

#### 3. 目标检测页面

- **输入源设置**：
  - 输入源：0（摄像头）、视频文件路径或图片路径
  - 模型权重：选择训练好的模型
- **检测参数**：
  - 置信度阈值：默认 0.25
  - IOU 阈值：默认 0.45
  - 最大检测数：默认 300
  - 设备：CPU 或 GPU
  - 输出路径：检测结果保存位置
- **选项**：
  - 保存结果：勾选后自动保存检测图片
  - 隐藏窗口：勾选后不显示检测窗口

#### 4. 导出模型页面

- **模型设置**：
  - 模型权重：选择要导出的模型
  - 导出格式：onnx / torchscript / coreml / tflite

### 实时日志

界面底部提供实时日志输出窗口，显示：
- 执行的命令
- 训练进度
- 检测结果
- 错误信息

日志窗口自动滚动到最新输出。

### 快捷键和提示

- **浏览按钮**：点击"浏览..."选择文件或文件夹
- **执行按钮**：设置完成后点击"执行"或"开始XX"按钮
- **状态栏**：底部状态栏显示当前操作状态
- **任务保护**：运行中会提示是否退出

## 依赖安装

如果启动时提示缺少 PyQt6，执行以下命令安装：

```bash
pip install PyQt6
```

或安装所有依赖：

```bash
pip install -r requirements.txt
```

## 常见问题

### 1. 启动失败：ModuleNotFoundError: No module named 'PyQt6'

**解决方法**：
```bash
pip install PyQt6
```

### 2. 界面显示异常

**解决方法**：
- 确保使用 Python 3.8 或更高版本
- 更新 PyQt6：`pip install --upgrade PyQt6`

### 3. 执行命令无响应

**解决方法**：
- 查看日志窗口的错误信息
- 确认相关脚本文件存在（train.py, detect.py 等）
- 检查文件路径是否正确

### 4. Windows 下双击 .sh 脚本无法运行

**解决方法**：
- Windows 应使用 `.bat` 脚本
- 或在 Git Bash/WSL 中运行 `.sh` 脚本

## 与其他界面的对比

| 特性 | GUI | CLI | Web |
|------|-----|-----|-----|
| 易用性 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 功能完整度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 可视化 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| 远程访问 | ❌ | ❌ | ✅ |
| 批处理 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 跨平台 | ✅ | ✅ | ✅ |

## 建议

- **初学者**：使用图形化界面（GUI），操作简单直观
- **开发者**：使用命令行界面（CLI），便于脚本化和自动化
- **远程用户**：使用 Web 应用，无需安装，在线使用
- **专业用户**：根据场景灵活选择三种方式

## 技术细节

### 框架
- **GUI 框架**：PyQt6
- **Python 版本**：3.8+
- **操作系统**：Windows / Linux / macOS

### 架构
- 主窗口：`MainWindow` 类
- 工作线程：`WorkerThread` 类（避免界面卡顿）
- 页面组件：独立的 Widget 类

### 文件结构
```
yolov9_gui.py          # 主 GUI 程序
start_gui.bat          # Windows 启动脚本
start_gui.sh           # Linux/Mac 启动脚本
requirements.txt       # 依赖文件（包含 PyQt6）
```

## 反馈和问题

如有问题或建议，请在 GitHub 仓库提交 Issue：

https://github.com/aaaaaswe/yolov9-detection-system/issues
